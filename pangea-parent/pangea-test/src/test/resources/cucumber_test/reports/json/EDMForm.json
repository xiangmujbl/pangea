[
  {
    "line": 2,
    "elements": [
      {
        "before": [
          {
            "result": {
              "duration": 78359,
              "status": "passed"
            },
            "match": {
              "location": "PangeaSteps.before(Scenario)"
            }
          }
        ],
        "line": 4,
        "name": "Full Load curation",
        "description": "",
        "id": "edmunitofmeasure-curation;full-load-curation",
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 141464263,
              "status": "passed"
            },
            "comments": [
              {
                "line": 5,
                "value": "#  1. test filterÂ zSourceSystem \u003c\u003e \u0027[EMS]\u0027"
              },
              {
                "line": 6,
                "value": "#  2. test get sourceSystem from source_system_v1 (rule T1)"
              },
              {
                "line": 7,
                "value": "#  3. test get mdm_name as uomName from ems_f_mdm_units and if initial, leave blank ( rule T2 )"
              },
              {
                "line": 9,
                "value": "#    Given I import \"/ems/ems_f_mdm_units\" by keyFields \"zSourceSystem,mdmSapCode\""
              },
              {
                "line": 10,
                "value": "#      | zSourceSystem | mdmSapCode | mdmName                  | zEnterpriseCode | mdmIsoCode | zUnitsDimension |"
              },
              {
                "line": 11,
                "value": "#      | project_one   | %0         | Per 1000                 | %O2             | -          | -               |"
              },
              {
                "line": 12,
                "value": "#      | project_two   | %LC        | %LC, Percent label claim | N/A             | -          | -               |"
              },
              {
                "line": 13,
                "value": "#      | [EMS]         | %O2        | %LC, %label clm          | %LC             | -          | -               |"
              },
              {
                "line": 14,
                "value": "#    And I wait \"/ems/ems_f_mdm_units\" Async Queue complete"
              },
              {
                "line": 15,
                "value": "#"
              },
              {
                "line": 16,
                "value": "#    And I import \"/edm/source_system_v1\" by keyFields \"localSourceSystem\""
              },
              {
                "line": 17,
                "value": "#      | localSourceSystem | localSourceSystemName | sourceSystem | sourceSystemName   |"
              },
              {
                "line": 18,
                "value": "#      | project_one       | Project One           | CONS_LATAM   | Consumer Latam Ent |"
              },
              {
                "line": 19,
                "value": "#      | [EMS]             | EMS                   | EMS          | EMS Ent            |"
              },
              {
                "line": 20,
                "value": "#      | project_two       | Project Two           | CONS_LATAM   | Consumer Latam Ent |"
              },
              {
                "line": 21,
                "value": "#    And I wait \"/edm/source_system_v1\" Async Queue complete"
              },
              {
                "line": 22,
                "value": "#"
              },
              {
                "line": 23,
                "value": "#    When I submit task with xml file \"xml/edm/unit_of_measure.xml\" and execute file \"jar/pangea-view.jar\""
              },
              {
                "line": 24,
                "value": "#"
              },
              {
                "line": 25,
                "value": "#    Then I check region data \"/edm/unit_of_measure_v1\" by keyFields \"sourceSystem,localUom\""
              },
              {
                "line": 26,
                "value": "#      | sourceSystem | localUom | localUomName             | uom | uomName         | isocode | measure | factor | roundingDecimal |"
              },
              {
                "line": 27,
                "value": "#      | CONS_LATAM   | %0       | Per 1000                 | %O2   |  %LC, %label clm | -       | -       |        |                 |"
              },
              {
                "line": 28,
                "value": "#      | CONS_LATAM   | %LC      | %LC, Percent label claim | N/A |                  | -       | -       |        |                 |"
              },
              {
                "line": 29,
                "value": "#"
              },
              {
                "line": 30,
                "value": "#"
              },
              {
                "line": 31,
                "value": "##    Then I check region data \"/plan/unit_of_measure_v1_failed_data\" by keyFields \"functionalArea,interfaceID,errorCode,sourceSystem,key1,key2,key3,key4,key5\""
              },
              {
                "line": 32,
                "value": "##      | functionalArea | interfaceID      | errorCode                                   | sourceSystem | businessArea | key1 | key2 | key3 | key4 | key5 | errorValue |"
              },
              {
                "line": 33,
                "value": "##      |               | | z_source_system value is not [EMS] and rule T1|       |            |  [EMS] |    %O2  |      |      |      |            |"
              },
              {
                "line": 34,
                "value": "#      Then I check region data \"/plan/edm_failed_data\" by keyFields \"functionalArea,interfaceID,errorCode,sourceSystem,key1,key2,key3,key4,key5\""
              },
              {
                "line": 35,
                "value": "#      | functionalArea | interfaceID      | errorCode                                   | sourceSystem | businessArea | key1 | key2 | key3 | key4 | key5 | errorValue |"
              },
              {
                "line": 36,
                "value": "#      |       DP        | EDMUnitOfMeasure| z_source_system value is not [EMS] and rule T1|       [EMS]  |            |  [EMS] |    %O2  |      |      |      |            |"
              },
              {
                "line": 37,
                "value": "#"
              },
              {
                "line": 38,
                "value": "#"
              },
              {
                "line": 39,
                "value": "#    And I compare the number of records between \"/ems/ems_f_mdm_units\" and \"/edm/unit_of_measure_v1,/plan/edm_failed_data\""
              }
            ],
            "line": 41,
            "name": "I delete the test data",
            "match": {
              "location": "CommonSteps.java:92"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 390366930,
              "status": "passed"
            },
            "line": 43,
            "name": "I will remove all data with region \"/edm/unit_of_measure_v1\"",
            "match": {
              "arguments": [
                {
                  "val": "/edm/unit_of_measure_v1",
                  "offset": 36
                }
              ],
              "location": "PangeaSteps.java:60"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 75619313,
              "status": "passed"
            },
            "line": 45,
            "name": "I will remove all data with region \"/plan/edm_failed_data\"",
            "match": {
              "arguments": [
                {
                  "val": "/plan/edm_failed_data",
                  "offset": 36
                }
              ],
              "location": "PangeaSteps.java:60"
            },
            "keyword": "And "
          },
          {
            "output": [
              "\u003cb\u003e Report generated time:2018-03-19 10:22:34\u003c/b\u003e"
            ],
            "result": {
              "duration": 381538,
              "status": "passed"
            },
            "line": 47,
            "name": "I will print test report timestamp",
            "match": {
              "location": "PangeaSteps.java:64"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "EDMUnitOfMeasure-Curation",
    "description": "",
    "id": "edmunitofmeasure-curation",
    "keyword": "Feature",
    "uri": "src/test/resources/features/edm/unit_of_measure.feature",
    "tags": [
      {
        "line": 1,
        "name": "@pangea_test"
      },
      {
        "line": 1,
        "name": "@AEAZ-491"
      }
    ]
  }
]